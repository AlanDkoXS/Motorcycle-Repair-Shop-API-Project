
<img src="https://raw.githubusercontent.com/AlanDkoXS/AlanDkoXS/refs/heads/main/assets/img/bgGit.webp" align="center" alt="ALAN | QUINTANA">

<div>
<a href="https://alanquintana.pro/" /><img src="https://img.shields.io/badge/website-001219?style=for-the-badge&logo=About.me&logoColor=f3ce3a" />
<a href="https://www.linkedin.com/in/alanxs/" /><img src="https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&logo=linkedin&logoColor=white" />
<a href="https://x.com/AlanDKO" /><img src="https://img.shields.io/badge/X-000000?style=for-the-badge&logo=x&logoColor=white" />
<a href="https://dribbble.com/Alan3XS" /><img src="https://img.shields.io/badge/Dribbble-EA4C89?style=for-the-badge&logo=dribbble&logoColor=white" />
<a href="https://www.instagram.com/anotherguyontheroad/" /><img src="https://img.shields.io/badge/Instagram-E4405F?style=for-the-badge&logo=instagram&logoColor=white" />
<a href="https://codepen.io/AlanXS" /><img src="https://img.shields.io/badge/Codepen-000000?style=for-the-badge&logo=codepen&logoColor=white" />
<a href="https://www.academlo.com/" /><img src="https://img.shields.io/badge/Academlo-ea4959?style=for-the-badge&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjE3MS4yMDc3IDIxMy41NDgzIDE5MC44ODA2IDEzOC4zNDI5IiB3aWR0aD0iMTkwLjg4MXB4IiBoZWlnaHQ9IjEzOC4zNDNweCI%2BCiAgPGRlZnM%2BCiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAwXzM0NV81MjAiPgogICAgICA8cmVjdCB3aWR0aD0iMTA5NyIgaGVpZ2h0PSIzMjIiIGZpbGw9IndoaXRlIi8%2BCiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMzQ1XzUyMCkiIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDEyNy4xNTAyOTkwNzIyNjU2MiwgMTI3Ljc2MzE5MTIyMzE0NDUzKSI%2BCiAgICA8cGF0aCBjbGFzcz0idHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwIiBkPSJNNzIuNzA0OSAyMDYuNTk3QzczLjkzMzYgMjA3LjAyMiA3NC45MDIzIDIwNi44OCA3NS44MjM5IDIwNi44OEM4MS44OTY0IDIwNi45MDQgODcuOTQ1MyAyMDYuODU3IDk0LjAxNzggMjA2LjkyN0M5NS40NTkxIDIwNi45NTEgOTYuMzA5OCAyMDYuNDc5IDk2Ljk5NSAyMDUuMjA1Qzk5LjIxNjEgMjAxLjIxNyAxMDEuNTU1IDE5Ny4zMDEgMTAzLjg0NyAxOTMuMzZDMTA0LjI5NiAxOTIuNTgyIDEwNC42NzQgMTkxLjkyMSAxMDUuNzYxIDE5MS45NDVDMTExLjkwNSAxOTEuOTkyIDExOC4wMjQgMTkxLjk2OCAxMjQuMDczIDE5MS45NjhDMTI0LjY0IDE5Mi44MTggMTI0LjA1IDE5My4zMTMgMTIzLjc2NiAxOTMuODA5QzExOC40NzMgMjAzLjM2NSAxMTMuMTMzIDIxMi44OTcgMTA3Ljg2NCAyMjIuNDc2QzEwNy4yMDIgMjIzLjY4IDEwNi40MjMgMjI0LjA4MSAxMDUuMDc2IDIyNC4wODFDODUuMjI4IDIyNC4wMzQgNjUuNDAzNyAyMjQuMDU3IDQ1LjU1NTggMjI0LjA1N0M0NS4xMDY4IDIyNC4wNTcgNDQuNjM0MiAyMjQuMDEgNDQuMjU2MiAyMjMuOTYzQzQ0LjE2MTcgMjIzLjc5OCA0NC4xMTQ0IDIyMy43MjcgNDQuMDkwOCAyMjMuNjU2QzQ0LjA2NzIgMjIzLjU4NSA0NC4wNDM1IDIyMy40OTEgNDQuMDY3MiAyMjMuNDQ0QzY4LjE2ODIgMTc4LjYzNyA5Mi4yNjkzIDEzMy44NTQgMTE2LjM3IDg5LjA3MDhDMTE2LjU1OSA4OC43NDA0IDExNi43MDEgODguMzYyOSAxMTcuMTI2IDg4LjE5NzdDMTE3Ljk3NyA4OC42MjI0IDExOC4xNjYgODkuNTE5MSAxMTguNTQ0IDkwLjI1MDVDMTI2LjQ2IDEwNC45OTcgMTM0LjM3NSAxMTkuNzY4IDE0Mi4yNjcgMTM0LjUzOEMxNTQuODM4IDE1OC4wMzkgMTY3LjQzMiAxODEuNTM5IDE3OS45NTUgMjA1LjA2M0MxODAuODI5IDIwNi42OTEgMTgxLjc5OCAyMDcuMjM0IDE4My41OTMgMjA3LjIxMUMxOTAuOTg5IDIwNy4wOTMgMTk4LjM4NSAyMDcuMTYzIDIwNS43MzMgMjA3LjE2M0MyMDUuODI4IDIwNi45OTggMjA1Ljg3NSAyMDYuOTI3IDIwNS44OTkgMjA2Ljg4QzIwNS45MjIgMjA2LjgwOSAyMDUuOTcgMjA2LjczOSAyMDUuOTcgMjA2LjY2OEMyMDUuOTQ2IDIwNi41MjYgMjA1Ljg5OSAyMDYuMzYxIDIwNS44MjggMjA2LjIyQzIwNS42ODYgMjA1LjkzNiAyMDUuNTQ0IDIwNS42NTMgMjA1LjQwMiAyMDUuMzdDMTg0Ljk2NCAxNjUuODQ5IDE2NC41NDkgMTI2LjMwNCAxNDQuMTEgODYuNzgyQzE0NC4wMzkgODYuNjQwNSAxNDMuOTY4IDg2LjQ5ODkgMTQzLjk0NSA4Ni4zMzM3QzE0My45MjEgODYuMjYzIDE0My45OTIgODYuMTkyMiAxNDQuMDE2IDg2LjA1MDZDMTQ0LjUzNSA4NS42MjU5IDE0NS4xNzMgODUuODM4MiAxNDUuNzY0IDg1LjgzODJDMTUxLjAzMyA4NS44MTQ2IDE1Ni4zMjYgODUuOTA5IDE2MS41OTUgODUuNzkxMUMxNjMuMzY3IDg1Ljc0MzkgMTY0LjE5NCA4Ni4zODA5IDE2NC45OTggODcuOTE0NkMxNzYuMDU2IDEwOS40NTcgMTg3LjE4NSAxMzAuOTUyIDE5OC4zMTQgMTUyLjQ3QzIxMC4xOTkgMTc1LjQ1MiAyMjIuMDYxIDE5OC40MzMgMjMzLjk0NiAyMjEuNDE1QzIzNC4zMjQgMjIyLjE3IDIzNC44NDQgMjIyLjg3OCAyMzQuOTM4IDIyMy43NTFDMjM0LjIyOSAyMjQuMjkzIDIzMy40OTcgMjI0LjA4MSAyMzIuODM1IDIyNC4wODFDMjEzLjYyNSAyMjQuMTA1IDE5NC40MTUgMjI0LjA4MSAxNzUuMjA1IDIyNC4xMjhDMTczLjU3NSAyMjQuMTI4IDE3Mi43MDEgMjIzLjYzMyAxNzEuOTQ1IDIyMi4xN0MxNjQuMzEzIDIwNy44IDE1Ni41MzkgMTkzLjUwMiAxNDguOTA3IDE3OS4xMDlDMTQ4LjA1NiAxNzcuNDgxIDE0Ny4xMTEgMTc2Ljk2MiAxNDUuMjkyIDE3Ni45NjJDMTI3LjA5OCAxNzcuMDMzIDEwOC45MDQgMTc3LjAzMyA5MC43MzM0IDE3Ni45NjJDODguODkwNCAxNzYuOTYyIDg3Ljk0NTMgMTc3LjU1MiA4Ny4xMTgzIDE3OS4xNTZDODIuNzQ3IDE4Ny42MDMgNzguMjU3NiAxOTYuMDAzIDczLjgxNTQgMjA0LjQwM0M3My40MTM3IDIwNS4wNCA3My4xMDY2IDIwNS43NDggNzIuNzA0OSAyMDYuNTk3Wk05Ni45NzE0IDE2MS4yMjRDMTExLjEyNSAxNjEuMjI0IDEyNC43NTggMTYxLjIyNCAxMzguODQxIDE2MS4yMjRDMTMxLjgyMyAxNDguMjQ3IDEyNC45NDcgMTM1LjU1MyAxMTcuOTA2IDEyMi41MjhDMTEwLjg0MSAxMzUuNTc2IDEwNC4wMTMgMTQ4LjIgOTYuOTcxNCAxNjEuMjI0WiIgc3R5bGU9ImZpbGw6IHJnYigyNTUsIDI1NSwgMjU1KTsiLz4KICA8L2c%2BCjwvc3ZnPg%3D%3D&logoColor=%23ea4959&logoSize=auto&color=%23ea4959" />
<a href="https://www.coursera.org/"/><img src="https://img.shields.io/badge/Coursera-0056D2?style=for-the-badge&logo=Coursera&logoColor=white" />
</div>

# Motorcycle Repair Shop API
### [ESP ðŸ‡²ðŸ‡½] Nota :
Puedes ver el README en espaÃ±ol, haciendo click<a href="https://github.com/AlanDkoXS/Motorcycle-Repair-Shop-API-Project/blob/main/README.es.md">aquÃ­</a>

## Overview
REST API developed to manage a motorcycle repair shop. It allows customers to schedule repair appointments and staff to manage their status.

## Technology Stack
- Node.js
- TypeScript
- Express.js
- PostgreSQL
- TypeORM
- JWT for authentication
- BCrypt for encryption
- Express Validator

## Project Structure
```
src/
â”œâ”€â”€ app.ts                 # Application entry point
â”œâ”€â”€ config/               # Global configurations
â”œâ”€â”€ data/                # Data layer and models
â”œâ”€â”€ domain/              # Domain logic and DTOs
â””â”€â”€ presentation/        # Controllers and routes
```

## Data Models

### User
```typescript
{
  id: string (UUID)
  name: string
  email: string
  password: string (encrypted)
  role: enum ['employee', 'client']
  status: enum ['available', 'disabled']
}
```

### Repair
```typescript
{
  id: string (UUID)
  date: Date
  motorsNumber: string
  description: string
  status: enum ['pending', 'completed', 'canceled']
  userId: string (UUID)
}
```

## Endpoints

### Authentication
- **POST /api/v1/auth/login**
  - User authentication
  - Body: `{ email: string, password: string }`
  - Response: `{ user: UserData, token: string }`

### Users
- **GET /api/v1/users**
  - Get list of users
  - Requires: Authentication token

- **GET /api/v1/users/:id**
  - Get user by ID
  - Requires: Authentication token

- **POST /api/v1/users**
  - Create new user
  - Body: `{ name, email, password, role }`
  - Validations:
    - Name: 3-80 characters
    - Email: Valid format and unique
    - Password: 10-16 characters, uppercase, lowercase, and special characters

- **PATCH /api/v1/users/:id**
  - Update user
  - Body: `{ name?, email? }`
  - Requires: Authentication token

- **DELETE /api/v1/users/:id**
  - Disable user
  - Requires: Authentication token

### Repairs
- **GET /api/v1/repairs**
  - List pending repairs
  - Requires: Authentication token (role: employee)

- **GET /api/v1/repairs/:id**
  - Get specific repair
  - Requires: Authentication token (role: employee)

- **POST /api/v1/repairs**
  - Create new repair
  - Body: `{ date, motorsNumber, description, userId }`
  - Requires: Authentication token (role: client)
  - Validations:
    - Date: ISO 8601 format
    - Motor number: Non-empty string
    - Description: Minimum 10 characters
    - UserId: Valid UUID

- **PATCH /api/v1/repairs/:id**
  - Mark repair as completed
  - Requires: Authentication token (role: employee)

- **DELETE /api/v1/repairs/:id**
  - Cancel repair
  - Requires: Authentication token
  - Validation: Cannot cancel if completed

## Security

### Authentication
- JWT (JSON Web Tokens) implementation
- Configurable token expiration
- Password encryption with BCrypt

### Authorization
- Role system (client/employee)
- Role validation middleware
- Protected sensitive routes

### Validations
- Input validation with Express Validator
- Data sanitization
- UUID validation
- SQL injection prevention through TypeORM

## Environment Variables
```env
PORT=3100
USERNAME_DATABASE=
PASSWORD_DATABASE=
DATABASE=
PORT_DATABASE=
HOST_DATABASE=
JWT_SEED=
JWT_EXPIRE_IN=3h
```

## Project Setup

### Installation
```bash
npm install
```

### Development Execution
```bash
npm run dev
```

### Production Build
```bash
npm run build
```

### Production Execution
```bash
npm start
```

## Additional Features

### Error Handling
- Centralized error handling system
- Custom errors with appropriate HTTP codes
- Error logging for debugging

### Validation and Sanitization
- Robust input data validation
- Input sanitization to prevent XSS
- Type validation with TypeScript

### Database
- Automatic migrations with TypeORM
- Entity relationships
- Optimized indexes

## Implemented Best Practices
1. Layered architecture
2. SOLID principles
3. Secure password handling
4. Complete data validation
5. Role-based access control
6. Logging and monitoring
7. Clean Code and TypeScript standards

## Additional Notes

### Error Codes
The API uses standard HTTP status codes:
- 200: Success
- 201: Created
- 400: Bad Request
- 401: Unauthorized
- 403: Forbidden
- 404: Not Found# Motorcycle Repair Shop API
